<?xml version="1.0" encoding="ISO-8859-1"?>
<article xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink">
<info>
  <title>Creating a Rivendell 4 dedicated appliance using Ubuntu Desktop 22.04
  LTS Jammy Jellyfish</title>
  <author>
    <personname>
      <firstname>Fred</firstname>
      <surname>Gleason</surname>
      <email>fredg@paravelsystems.com</email>
    </personname>
  </author>
</info>

<sect1>
  <title>Warning</title>
  <para>
    This installation HOWTO and the version of Rivendell that it
    installs are intended for testing purposes only. As such, it is quite
    likely that they contain bugs, including serious ones that could lead
    to LOSS OF DATA!
  </para>
  <para>
    DO NOT use this HOWTO for creating production systems!
  </para>
</sect1>

<sect1>
  <title>Introduction</title>
  <sect2>
    <title>Overview</title>
    <para>
      This HOWTO contains procedures for creating a dedicated Rivendell
      &quot;appliance&quot; system using the
      Ubuntu 22.04 LTS Jammy Jellyfish distribution.
    </para>
    <para>
      Installing Rivendell on Ubuntu Desktop consists of these primary steps:
    </para>
    <orderedlist>
      <listitem>
	<para>
	  Install the base distribution.
	</para>
      </listitem>
      <listitem>
	<para>
	  Bootstrap and run the installation script.
	</para>
      </listitem>
    </orderedlist>
  </sect2>
  <sect2>
    <title>Prerequisites</title>
    <para>
      The following items are required to complete the installation.
    </para>
    <itemizedlist>
      <listitem>
	<para>
	  Target hardware. 64 bit (x86_64) AMD or Intel architecture
	  is supported. For the purposes of this HOWTO, the target machine
	  will be assumed to have a single, blank hard drive. Installations
	  utilizing multiple hard drives (including RAID arrays) are
	  possible, but beyond the scope of this HOWTO.
	</para>
	<note>
	  Secure Boot should be disabled on the target hardware prior
	  to beginning installation. Failure to do so may result in
	  third-party drivers for certain hardware --e.g. AudioScience
	  audio adapters-- failing to initialize properly.	  
	</note>
      </listitem>
      <listitem>
	<para>
	  A installer image for Ubuntu Desktop 22.04 LTS Jammy Jellyfish,
	  available at <link xlink:href="https://ubuntu.com/download/desktop">
	  https://ubuntu.com/download/desktop</link>. After downloading the
	  ISO image, burn it to a blank DVD or make a "bootable" USB
	  key using the instructions on the download web site.
	</para>
      </listitem>
      <listitem>
	<para>
	  A working Internet connection.
	</para>
      </listitem>
      <listitem>
	<para>
	  If you are planning to install in
	  <link linkend="installation_modes">client mode</link>,
	  the IP address of the Rivendell server to which this instance
	  will connect.
	</para>
      </listitem>
    </itemizedlist>
  </sect2>
</sect1>

<sect1>
  <title>Installing the Base Distribution</title>
  <para>
    Boot the Ubuntu Desktop 22.04 LTS Jammy Jellyfish installation media
    (DVD or USB key). You should wind up at the initial boot screen.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="bootscreen.png" scale="98"/>
      </imageobject>
    </mediaobject>
  </para>
  <note>
    Depending on your specific hardware and BIOS settings, the appearance of
    the initial boot screen may vary from the example shown.
  </note>
  <para>
    Highlight the <computeroutput>Try or Install Ubuntu</computeroutput>
    prompt and then press <userinput>Enter</userinput> to proceed to the
    <computeroutput>Welcome</computeroutput> screen.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="welcome.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    You will be asked to specify the language to use for the install.
    Choose and then touch the <computeroutput>Install Ubuntu</computeroutput>
    button to proceed to the
    <computeroutput>Keyboard Layout</computeroutput> screen.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="keyboard_layout.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    Choose your desired keyboard layout and then touch the
    <computeroutput>Continue</computeroutput> button to proceed to the
    <computeroutput>Updates and other software</computeroutput> screen.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="updates_and_other_software.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    Touch the <computeroutput>Continue</computeroutput> button to proceed
    to the <computeroutput>Installation type</computeroutput> screen.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="installation_type.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    Select the
    <computeroutput>Erase disk and install Ubuntu</computeroutput>
    option and then touch the <computeroutput>Install Now</computeroutput>
    button. You will then be prompted for the timezone to be used on the
    system.
  </para>
  <note>
    You may be prompted to confirm the changes about to be made to the
    systems discs at this point.
    <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="write_changes_to_disc.png" scale="90"/>
      </imageobject>
    </mediaobject>
    </para>
    If this happens, touch the <computeroutput>Continue</computeroutput>
    button to proceed.
  </note>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="where_are_you.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    Choose the desired region for the time zone and then touch the
    <computeroutput>Continue</computeroutput> button to proceed to the
    <computeroutput>Who are you?</computeroutput> screen.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="who_are_you.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    The following fields should be filled out as follows:
  </para>
  <para>
    <variablelist>
      <varlistentry>
	<term>
	  <computeroutput>Your name:</computeroutput>
	</term>
	<listitem>
	  <para>
	    <userinput>Rivendell Audio</userinput>
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>
	  <computeroutput>Pick a username:</computeroutput>
	</term>
	<listitem>
	  <para>
	    <userinput>rd</userinput>
	  </para>
	</listitem>
      </varlistentry>
    </variablelist>
  </para>
  <para>
    The remaining fields should be filled out as appropriate for your site.
  </para>
  <para>
    When everything is filled out as you wish, touch the
    <computeroutput>Continue</computeroutput> button to begin the actual
    installation. Depending on the speed of your Internet connction, this
    will take anywhere from a few minutes to an hour or more.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="slideshow.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    You will eventually see a message that the installation is complete.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="installation_complete.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    Touch the <computeroutput>Restart Now</computeroutput> button to
    reboot the system.
  </para>
  <para>
    The system will reboot and come up to the login screen. Login
    in as user &quot;rd&quot;, using the password that you set earlier.
  </para>
  <note>
    If you ticked the <computeroutput>Log in automatically</computeroutput>
    checkbox when creating the user earlier, the login prompt will be
    skipped.
  </note>

  <para>
    After logging in, you will see the
    <computeroutput>Online Accounts</computeroutput> dialog.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="online_accounts.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    Touch the <computeroutput>Skip</computeroutput> button to proceed to
    <computeroutput>Help improve Ubuntu</computeroutput> screen.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="help_improve_ubuntu.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    Make selections as desired and then touch the
    <computeroutput>Next</computeroutput> to proceed to the
    <computeroutput>Privacy</computeroutput> screen.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="privacy.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    Make selections as desired and then touch the
    <computeroutput>Next</computeroutput> to proceed to the
    <computeroutput>Ready to go</computeroutput> screen.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="ready_to_go.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    Touch the <computeroutput>Done</computeroutput> button to exit the
    <computeroutput>Welcome to Ubuntu</computeroutput> utility.
  </para>

<!--
  <para>
    After logging in, you may be prompted to update language support.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="incomplete_language_support.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    If this happens, touch the
    <computeroutput>Run this action now</computeroutput> button, and then
    the <computeroutput>Install</computeroutput>.
  </para>
-->
  <para>
    You may be prompted to install updated software packages (evidenced
    by the appearance of an item with the phrase
    &quot;Software Updater&quot; on the top taskbar of the desktop).
    If this happens, touch the item to open the updater dialog and then the
    <computeroutput>Install Now</computeroutput> button to install the
    updates.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="updated_software_has_been_issued.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    Following which you should see this message.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="software_on_this_computer_is_up_to_date.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>  
  <para>
    Touch the <computeroutput>Restart Now</computeroutput> button to reboot
    the system, following which the system will be ready to have Rivendell
    installed.
  </para>
</sect1>

<sect1>
  <title>Running the Installation Script</title>
  <para>
    Do a right-click with the mouse on the desktop to pop-up a menu
    and choose the <computeroutput>Open in Terminal</computeroutput> item.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="opening_terminal.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    A <computeroutput>Terminal</computeroutput> window will appear.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="terminal_window.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  <para>
    Enter the following statements in the Terminal window exactly as shown,
    pressing the <userinput>Enter</userinput> key after each one:
  </para>
  <para>
    <userinput> wget https://software.paravelsystems.com/ubuntu/dists/focal/main/install_rivendell.sh -P .</userinput>
  </para>
  <para>
    <userinput>chmod 755 install_rivendell.sh</userinput>
  </para>
  <para>
    <userinput>sudo ./install_rivendell.sh</userinput>
  </para>
  <para>
    You will be prompted for the password for user
    <computeroutput>rd</computeroutput>. Enter the password that you set
    during the installation process.
  </para>
  <note>
    The password will not be visible on the screen as you enter it.
    This is normal.
  </note>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="user_rd_password_prompt.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>
  
  <para>
    The installer will now start up and display its main menu.
  </para>
  <para>
    <mediaobject>
      <imageobject>
	<imagedata fileref="installer_menu.png" scale="90"/>
      </imageobject>
    </mediaobject>
  </para>

  <para xml:id="installation_modes">
    The installer supports three different &quot;installation modes&quot;
    for Rivendell, as follows:
  </para>
  <para>
    <variablelist>
      <varlistentry>
	<term>Standalone</term>
	<listitem>
	  <para>
	    Install system components (Rivendell application code, MySQL
	    database server and audio file store) on this machine, allowing
	    it to operate as a completely self-contained and autonomous
	    Rivendell system.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>Server</term>
	<listitem>
	  <para>
	    The same as &quot;Standalone&quot;, but will also configure
	    the MySQL database and audio file store components to be shared
	    with additional &quot;client mode&quot; Rivendell systems.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>Client</term>
	<listitem>
	  <para>
	    Install only the Rivendell application code and configure
	    the system to use the MySQL database and audio file store
	    components located on a separate &quot;server&quot; system.
	    You will be prompted to enter the IP address of that server
	    system before the installation starts.
	  </para>
	  <para>
	    The &quot;server&quot; does not actually need to be online
	    during this installation.
	  </para>
	</listitem>
      </varlistentry>
    </variablelist>
  </para>
  <para>
    Enter the number for the type of installation desired, then press the
    <userinput>Enter</userinput> key.
  </para>
  <para>
    Depending upon the speed of the Internet connection, installation will
    typically take around fifteen minutes. When installation is
    complete, reboot the system with the command:
  </para>
  <para>
    <userinput>sudo reboot</userinput>
  </para>
  <para>
    After rebooting, the system is ready for service.
  </para>
</sect1>

</article>
